# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ü—Ä–æ–±—Ä–æ—Å–∏—Ç—å localhost:3004 –Ω–∞ deep.foundation

## 1Ô∏è‚É£ –î–æ–±–∞–≤—å—Ç–µ ~/bin –≤ PATH (–æ–¥–∏–Ω —Ä–∞–∑)

```bash
echo 'export PATH="$HOME/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc
```

## 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ wstunnel

```bash
wstunnel --version
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: wstunnel-cli 10.4.0
```

–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm run install-wstunnel
```

## 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–¢–µ—Ä–º–∏–Ω–∞–ª 1:**
```bash
cd /Users/deep/Documents/GitHub/hasyx
npm run dev
# –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ http://localhost:3004
```

## 4Ô∏è‚É£ –ü—Ä–æ–±—Ä–æ—Å—å—Ç–µ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å

**–¢–µ—Ä–º–∏–Ω–∞–ª 2:**
```bash
cd /Users/deep/Documents/GitHub/hasyx

# –ë–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π UUID)
npm run tunnel -- -p 3004

# –ò–õ–ò —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø–æ–¥–¥–æ–º–µ–Ω–æ–º
npm run tunnel -- -p 3004 -u my-dev-app

# –ò–õ–ò –ø–æ–ª–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
npm run tunnel -- --port 3004 --uuid my-dev-app --server https://deep.foundation
```

## 5Ô∏è‚É£ –ì–æ—Ç–æ–≤–æ! üéâ

–í–∞—à `localhost:3004` —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
```
https://my-dev-app.deep.foundation
```

(–∏–ª–∏ –¥—Ä—É–≥–æ–π UUID, –µ—Å–ª–∏ –≤—ã –µ–≥–æ —É–∫–∞–∑–∞–ª–∏)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–≠–Ω–¥–ø–æ–∏–Ω—Ç `/api/wstunnel/[uuid]` **—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**. 

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É `401 Unauthorized` –∏–ª–∏ `403 Forbidden`:

1. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω:**
   ```bash
   npm run tunnel -- -p 3004 -u my-app -t YOUR_AUTH_TOKEN
   ```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ?

1. üîê **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** - —Å–æ–∑–¥–∞–µ—Ç—Å—è:
   - DNS –∑–∞–ø–∏—Å—å –≤ CloudFlare (`my-app.deep.foundation`)
   - SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt
   - Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - tmux —Å–µ—Å—Å–∏—è —Å wstunnel server

2. üîå **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ wstunnel client** - –ª–æ–∫–∞–ª—å–Ω—ã–π:
   - –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ WebSocket
   - –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç 3004

3. üåê **–†–∞–±–æ—Ç–∞–µ—Ç!**
   - –í–Ω–µ—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã ‚Üí `https://my-app.deep.foundation`
   - Nginx ‚Üí wstunnel server
   - WebSocket ‚Üí wstunnel client
   - localhost:3004 ‚Üí –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç—É–Ω–Ω–µ–ª—è

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å tunnel - –Ω–∞–∂–º–∏—Ç–µ Ctrl+C
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –û—Ç–∫–ª—é—á–∏—Ç wstunnel client
# - –£–¥–∞–ª–∏—Ç DNS, SSL, Nginx –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
# - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç tmux —Å–µ—Å—Å–∏—é
```

---

## üêõ Troubleshooting

### wstunnel command not found

```bash
npm run install-wstunnel
export PATH="$HOME/bin:$PATH"
```

### Server returned 401/403

–ù—É–∂–µ–Ω —Ç–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∞:
```bash
npm run tunnel -- -p 3004 -t YOUR_TOKEN
```

### DNS –Ω–µ —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-3 –º–∏–Ω—É—Ç—ã –¥–ª—è –ø—Ä–æ–ø–∞–≥–∞—Ü–∏–∏ DNS.

### SSL –æ—à–∏–±–∫–∞

–°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–µ—Ç Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç, —ç—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç 1-2 –º–∏–Ω—É—Ç—ã.

---

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [WSTUNNEL.md](./WSTUNNEL.md) –¥–ª—è:
- –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ API
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Express/Next.js
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫


