"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5366],{12791:(e,t,a)=>{a.d(t,{$7:()=>o,Q$:()=>i});var s=a(95155),l=a(97168),n=a(12115);let r=(0,a(65521).v)((e,t)=>({locale:"en",setLocale:t=>e({locale:t})}));function i(e){let{locale:t,setLocale:a}=r();return(0,s.jsx)("div",{...e,children:(0,s.jsxs)(l.$,{className:"w-full",onClick:()=>a("en"===t?"ru":"en"),children:[t," ➤ ","en"===t?"ru":"en"]})})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",{locale:t,setLocale:a}=r();return(0,n.useEffect)(()=>{t||a(e)},[e]),{locale:t,setLocale:a}}},14648:(e,t,a)=>{a.d(t,{e:()=>n});var s=a(12115);let l=(0,a(13853).A)("hooks:use-telegram-webapp");function n(){let[e,t]=(0,s.useState)(!0),[n,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[x,m]=(0,s.useState)(null),[g,p]=(0,s.useState)("light");(0,s.useEffect)(()=>{(async()=>{var e,s,n;l("Initializing Telegram WebApp...");let i=null;try{let{default:e}=await Promise.resolve().then(a.bind(a,97728));i=e,l("Using @twa-dev/sdk")}catch(t){i=(null==(e=window.Telegram)?void 0:e.WebApp)||null,l("Using window.Telegram.WebApp fallback")}i&&i.initData?(l("Telegram WebApp detected",{platform:i.platform,version:i.version,colorScheme:i.colorScheme,hasUser:!!(null==(s=i.initDataUnsafe)?void 0:s.user)}),r(!0),o((null==(n=i.initDataUnsafe)?void 0:n.user)||null),d(i.initData),h(i.platform||null),m(i.version||null),p(i.colorScheme||"light"),i.ready(),i.isExpanded||i.expand(),window.__telegramWebApp=i):(l("Not running in Telegram WebApp environment"),r(!1)),t(!1)})()},[]);let f=()=>window.__telegramWebApp,v=(0,s.useCallback)(()=>{let e=f();e&&e.ready&&e.ready()},[]),b=(0,s.useCallback)(()=>{let e=f();e&&e.close&&e.close()},[]),j=(0,s.useCallback)(()=>{let e=f();e&&e.expand&&e.expand()},[]),w=(0,s.useCallback)(e=>new Promise(t=>{let a=f();a&&a.showAlert?a.showAlert(e,t):(alert(e),t())}),[]),N=(0,s.useCallback)(e=>new Promise(t=>{let a=f();a&&a.showConfirm?a.showConfirm(e,t):t(confirm(e))}),[]),C={setText:(0,s.useCallback)(e=>{let t=f();t&&t.MainButton&&t.MainButton.setText(e)},[]),setOnClick:(0,s.useCallback)(e=>{let t=f();t&&t.MainButton&&t.MainButton.onClick(e)},[]),show:(0,s.useCallback)(()=>{let e=f();e&&e.MainButton&&e.MainButton.show()},[]),hide:(0,s.useCallback)(()=>{let e=f();e&&e.MainButton&&e.MainButton.hide()},[]),enable:(0,s.useCallback)(()=>{let e=f();e&&e.MainButton&&e.MainButton.enable()},[]),disable:(0,s.useCallback)(()=>{let e=f();e&&e.MainButton&&e.MainButton.disable()},[]),showProgress:(0,s.useCallback)(()=>{let e=f();e&&e.MainButton&&e.MainButton.showProgress()},[]),hideProgress:(0,s.useCallback)(()=>{let e=f();e&&e.MainButton&&e.MainButton.hideProgress()},[])};return{isInTelegram:n,isLoading:e,user:i,initData:c,platform:u,version:x,colorScheme:g,ready:v,close:b,expand:j,showAlert:w,showConfirm:N,mainButton:C,backButton:{setOnClick:(0,s.useCallback)(e=>{let t=f();t&&t.BackButton&&t.BackButton.onClick(e)},[]),show:(0,s.useCallback)(()=>{let e=f();e&&e.BackButton&&e.BackButton.show()},[]),hide:(0,s.useCallback)(()=>{let e=f();e&&e.BackButton&&e.BackButton.hide()},[])},haptic:{impact:(0,s.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium",t=f();t&&t.HapticFeedback&&t.HapticFeedback.impactOccurred(e)},[]),notification:(0,s.useCallback)(e=>{let t=f();t&&t.HapticFeedback&&t.HapticFeedback.notificationOccurred(e)},[]),selection:(0,s.useCallback)(()=>{let e=f();e&&e.HapticFeedback&&e.HapticFeedback.selectionChanged()},[])}}}},32066:(e,t,a)=>{a.d(t,{D:()=>c,H:()=>o});var s=a(95155),l=a(97168),n=a(51362),r=a(12115),i=a(88893);function o(e){let[t,a]=(0,r.useState)(!1),{theme:o,setTheme:c}=(0,n.D)(),d=(0,i.c3)("theme");return((0,r.useEffect)(()=>{a(!0)},[]),t)?(0,s.jsx)(l.$,{...e,onClick:()=>c("dark"===o?"light":"dark"),children:d("dark"===o?"light":"dark")}):(0,s.jsx)("div",{...e,style:{width:"58px",height:"40px"}})}function c(){let{theme:e,setTheme:t}=(0,n.D)();return{theme:e,setTheme:t}}},37777:(e,t,a)=>{a.d(t,{Bc:()=>r,ZI:()=>c,k$:()=>o,m_:()=>i});var s=a(95155);a(12115);var l=a(89613),n=a(53999);function r(e){let{delayDuration:t=0,...a}=e;return(0,s.jsx)(l.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function i(e){let{...t}=e;return(0,s.jsx)(r,{children:(0,s.jsx)(l.bL,{"data-slot":"tooltip",...t})})}function o(e){let{...t}=e;return(0,s.jsx)(l.l9,{"data-slot":"tooltip-trigger",...t})}function c(e){let{className:t,sideOffset:a=0,children:r,...i}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsxs)(l.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,n.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[r,(0,s.jsx)(l.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},44293:(e,t,a)=>{a.d(t,{z:()=>C});var s=a(95155),l=a(12115),n=a(97168),r=a(13853),i=a(50339),o=a(12108),c=a(90539),d=a(87358);let u=(0,r.A)("auth:provider-button");function h(e){var t;let{provider:a,icon:l,label:r,className:h}=e,x=(0,c.$)(),m=!!+(null==d||null==d.env?void 0:"1"),g=async e=>{e.preventDefault();try{if(m){u("Starting ".concat(a," authentication in JWT mode")),x.id||x.update(),u("Using JWT ID: ".concat(x.id," for ").concat(a," authentication")),localStorage.setItem("nextauth_jwt_id",x.id),localStorage.setItem("nextauth_jwt_provider",a),x.start();let e="".concat(i.H$,"/auth/callback?jwtId=").concat(encodeURIComponent(x.id),"&close=1"),t="".concat(i.H$,"/api/auth/jwt-signin?provider=").concat(encodeURIComponent(a),"&callbackUrl=").concat(encodeURIComponent(e));u("Opening JWT helper signin URL:",t),window.open(t,"_blank","width=600,height=700")}else u("Starting ".concat(a," authentication in regular mode")),await (0,o.signIn)(a)}catch(e){console.error("Error during ".concat(a," authentication:"),e),u("Error during ".concat(a," authentication:"),e)}};return(0,s.jsxs)(n.$,{onClick:g,variant:"outline",className:h,type:"button",children:[l&&(0,s.jsx)("span",{className:"mr-2 h-4 w-4 inline-block",children:l}),r]})}var x=a(88893);let m=(0,r.A)("auth:telegram-button"),g=e=>{let{botUsername:t,buttonSize:a="medium",cornerRadius:n,requestAccess:r,showUserPhoto:i=!0,lang:c="en",className:d,redirectUrl:u="/"}=e,h=(0,l.useRef)(null),g=(0,x.c3)("auth");return((0,l.useEffect)(()=>{if(h.current&&t){m("\uD83D\uDD27 Setting up Telegram Login Widget",{botUsername:t,buttonSize:a,lang:c}),console.log("\uD83D\uDD27 Telegram Login Widget setup:",{botUsername:t,buttonSize:a,lang:c}),window.onTelegramAuth=e=>{m("\uD83D\uDCE8 Telegram authentication callback received:",e),console.log("\uD83D\uDCE8 Telegram authentication callback received:",{id:e.id,first_name:e.first_name,username:e.username,auth_date:e.auth_date,has_hash:!!e.hash,hash_length:e.hash?e.hash.length:0});try{(0,o.signIn)("telegram",{callbackUrl:u,redirect:!1,...e}).then(e=>{m("\uD83D\uDD04 NextAuth signIn result:",e),console.log("\uD83D\uDD04 NextAuth signIn result:",{ok:null==e?void 0:e.ok,error:null==e?void 0:e.error,status:null==e?void 0:e.status,url:(null==e?void 0:e.url)?"present":"missing"}),(null==e?void 0:e.ok)&&e.url?(m("✅ Telegram login successful, redirecting"),console.log("✅ Telegram login successful, redirecting to:",e.url),window.location.href=e.url):(null==e?void 0:e.error)?(m("❌ NextAuth signIn error:",e.error),console.error("❌ NextAuth signIn error:",e.error),alert("".concat(g("accountDisconnectFailed"),": ").concat(e.error))):(m("⚠️ NextAuth signIn unexpected result:",e),console.warn("⚠️ NextAuth signIn unexpected result:",e),alert(g("updateFailed")))}).catch(e=>{m("❌ Error during signIn process:",e),console.error("❌ Error during signIn process:",e),alert(g("updateFailed"))})}catch(e){m("❌ Error in onTelegramAuth callback:",e),console.error("❌ Error in onTelegramAuth callback:",e),alert(g("updateFailed"))}},window.onTelegramError=e=>{m("❌ Telegram widget error:",e),console.error("❌ Telegram widget error:",e),alert(g("updateFailed"))};let e=document.createElement("script");e.src="https://telegram.org/js/telegram-widget.js?22",e.async=!0,e.setAttribute("data-telegram-login",t),e.setAttribute("data-size",a),n&&e.setAttribute("data-radius",n),r&&e.setAttribute("data-request-access",r),e.setAttribute("data-userpic",i?"true":"false"),e.setAttribute("data-lang",c),e.setAttribute("data-auth-url",""),e.setAttribute("data-onauth","onTelegramAuth(user)"),e.onerror=()=>{m("❌ Failed to load Telegram widget script"),console.error("❌ Failed to load Telegram widget script"),alert(g("updateFailed"))},e.onload=()=>{m("✅ Telegram widget script loaded successfully"),console.log("✅ Telegram widget script loaded successfully")};let s=h.current.querySelector('script[src^="https://telegram.org/js/telegram-widget.js"]');s&&(m("\uD83E\uDDF9 Removing existing Telegram widget script"),h.current.removeChild(s)),m("\uD83D\uDCC2 Appending Telegram widget script to DOM"),h.current.appendChild(e);let l={"data-telegram-login":t,"data-size":a,"data-radius":n,"data-request-access":r,"data-userpic":i?"true":"false","data-lang":c,"data-auth-url":"","data-onauth":"onTelegramAuth(user)"};return m("\uD83D\uDD27 Telegram widget configuration:",l),console.log("\uD83D\uDD27 Telegram widget configuration:",l),()=>{m("\uD83E\uDDF9 Cleaning up Telegram Login Button"),delete window.onTelegramAuth,delete window.onTelegramError}}t||(m("⚠️ No botUsername provided to Telegram Login Button"),console.warn("⚠️ No botUsername provided to Telegram Login Button")),h.current||(m("⚠️ No ref.current available for Telegram Login Button"),console.warn("⚠️ No ref.current available for Telegram Login Button"))},[t,a,n,r,i,c,u]),t)?(0,s.jsx)("div",{ref:h,className:d}):(m("❌ Telegram Login Button: botUsername not provided"),(0,s.jsx)("div",{className:d,children:(0,s.jsx)("div",{className:"text-red-500 text-sm",children:g("accountDisconnectFailed")})}))};var p=a(50504),f=a(14648),v=a(88482),b=a(51154),j=a(87358);let w="localhost"===window.location.hostname,N=e=>{if(void 0===e)return!0;let t=String(e).trim().toLowerCase();return"1"===t||"true"===t||"yes"===t};function C(){let{isInTelegram:e,isLoading:t}=(0,f.e)(),a=(0,x.c3)("common"),l=(0,x.c3)("auth"),n=(0,x.c3)("auth.oauth"),r={google:N(j.env.NEXT_PUBLIC_GOOGLE_AUTH_ENABLED),yandex:N(j.env.NEXT_PUBLIC_YANDEX_AUTH_ENABLED),github:N(j.env.NEXT_PUBLIC_GITHUB_AUTH_ENABLED),facebook:N(j.env.NEXT_PUBLIC_FACEBOOK_AUTH_ENABLED),vk:N(j.env.NEXT_PUBLIC_VK_AUTH_ENABLED)};return e?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center space-y-4 max-w-md mx-auto",children:(0,s.jsx)(p.Z,{onSuccess:e=>{console.log("Telegram authentication successful:",e)},onError:e=>{console.error("Telegram authentication error:",e)},className:"w-full",autoAuth:!0})}):t?(0,s.jsxs)(v.Zp,{className:"max-w-md mx-auto",children:[(0,s.jsxs)(v.aR,{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(b.A,{className:"h-5 w-5 animate-spin"}),(0,s.jsx)(v.ZB,{className:"text-lg",children:a("loading")})]}),(0,s.jsx)(v.BT,{children:n("checkingOptions")})]}),(0,s.jsx)(v.Wu,{children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(b.A,{className:"animate-spin h-8 w-8 text-muted-foreground"})})})]}):(0,s.jsxs)("div",{className:"flex flex-col space-y-3",children:[r.google&&(0,s.jsx)(h,{provider:"google",label:l("continueWith",{provider:"Google"}),icon:(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,s.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,s.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),(0,s.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),className:"w-full"}),r.yandex&&(0,s.jsx)(h,{provider:"yandex",label:l("continueWith",{provider:"Yandex"}),icon:(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M2 12C2 6.48 6.48 2 12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12Z",fill:"#FC3F1D"}),(0,s.jsx)("path",{d:"M13.155 17.833H15.314V6.167H12.647C9.521 6.167 8.138 7.574 8.138 9.786C8.138 11.602 8.995 12.779 10.635 14.197L8 17.833H10.379L13.155 13.971L12.269 13.232C10.95 12.126 10.264 11.269 10.264 9.692C10.264 8.458 11.082 7.696 12.647 7.696H13.155V17.833Z",fill:"white"})]}),className:"w-full"}),r.github&&(0,s.jsx)(h,{provider:"github",label:l("continueWith",{provider:"GitHub"}),icon:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.009-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.155-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.682-.103-.253-.446-1.27.098-2.64 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.82c.85.004 1.705.114 2.504.337 1.909-1.296 2.747-1.026 2.747-1.026.546 1.37.202 2.387.1 2.64.64.698 1.028 1.591 1.028 2.682 0 3.842-2.338 4.687-4.566 4.935.359.308.678.92.678 1.85v2.748c0 .268.18.578.688.48A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z"})}),className:"w-full"}),r.facebook&&(0,s.jsx)(h,{provider:"facebook",label:l("continueWith",{provider:"Facebook"}),icon:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#1877F2",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M22.676 0H1.324C.593 0 0 .593 0 1.324v21.352C0 23.407.593 24 1.324 24h11.494v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116c.73 0 1.323-.593 1.323-1.324V1.324C24 .593 23.407 0 22.676 0z"})}),className:"w-full bg-[#1877F2] hover:bg-[#1877F2]/90 text-white"}),r.vk&&(0,s.jsx)(h,{provider:"vk",label:l("continueWith",{provider:"VK"}),icon:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#4680C2",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M13.125 12.281L14.344 10.5H12.375V8.344C12.375 7.85625 12.6094 7.625 13.0969 7.625H14.375V5.8125C14.0156 5.76562 13.3906 5.71875 12.5 5.71875C10.6562 5.71875 9.5 6.82812 9.5 8.82812V10.5H7.5V12.281L9.5 14.062V18.281C9.5 18.9688 9.96875 19.4375 10.6562 19.4375H12.3125V16.1875C11.6094 16.1094 11.1562 15.625 11.1562 14.9375V14.062L13.125 12.281Z M21.0625 5.10938C20.3906 3.92188 19.2656 3.03125 17.9375 2.54688C16.2656 1.95312 14.3125 1.71875 12.1875 1.71875H11.8125C9.6875 1.71875 7.73438 1.95312 6.0625 2.54688C4.73438 3.03125 3.60938 3.92188 2.9375 5.10938C2.125 6.54688 1.71875 8.3125 1.71875 10.3125V13.6875C1.71875 15.6875 2.125 17.4531 2.9375 18.8906C3.60938 20.0781 4.73438 20.9688 6.0625 21.4531C7.73438 22.0469 9.6875 22.2812 11.8125 22.2812H12.1875C14.3125 22.2812 16.2656 22.0469 17.9375 21.4531C19.2656 20.9688 20.3906 20.0781 21.0625 18.8906C21.875 17.4531 22.2812 15.6875 22.2812 13.6875V10.3125C22.2812 8.3125 21.875 6.54688 21.0625 5.10938Z"})}),className:"w-full bg-[#4680C2] hover:bg-[#4680C2]/90 text-white"}),j.env.NEXT_PUBLIC_TELEGRAM_BOT_USERNAME&&!w&&(0,s.jsx)(g,{botUsername:j.env.NEXT_PUBLIC_TELEGRAM_BOT_USERNAME,buttonSize:"large",className:"w-full flex justify-center"})]})}},50504:(e,t,a)=>{a.d(t,{Z:()=>f});var s=a(95155),l=a(88145),n=a(97168),r=a(88482),i=a(14648),o=a(13853),c=a(51154),d=a(40646),u=a(46767),h=a(85339),x=a(12108),m=a(12115),g=a(88893);let p=(0,o.A)("auth:telegram-webapp");function f(e){let{onSuccess:t,onError:a,className:o,autoAuth:f=!0}=e,v=(0,g.c3)("auth.telegramWebapp"),[b,j]=(0,m.useState)(!1),[w,N]=(0,m.useState)(null),{data:C,status:y}=(0,x.useSession)(),{isInTelegram:k,isLoading:A,user:T,initData:z,platform:B,version:_,colorScheme:E,showAlert:S,haptic:L}=(0,i.e)();(0,m.useEffect)(()=>{f&&k&&T&&z&&"unauthenticated"===y&&!b&&!w&&(p("Auto-authenticating Telegram user",{userId:T.id,username:T.username}),M())},[f,k,T,z,y,b,w]);let I=(0,m.useCallback)(async e=>{console.log("\uD83D\uDD04 Client: validateInitData called");try{console.log("\uD83D\uDD04 Client: Making POST request to /api/auth/verify-telegram-webapp"),p("Validating initData with server...");let t=await fetch("/api/auth/verify-telegram-webapp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initData:e})});console.log("\uD83D\uDD04 Client: Response status:",t.status),console.log("\uD83D\uDD04 Client: Response ok:",t.ok);let a=await t.json();return console.log("\uD83D\uDD04 Client: Response JSON:",a),p("Server validation result:",{success:a.success||a.valid}),!0===a.success||!0===a.valid}catch(e){return console.error("\uD83D\uDD34 Client: Error validating initData:",e),p("Error validating initData:",e),!1}},[]),M=(0,m.useCallback)(async()=>{if(console.log("\uD83D\uDD04 Starting handleTelegramAuth"),console.log("\uD83D\uDD04 InitData length:",null==z?void 0:z.length),console.log("\uD83D\uDD04 User:",T),!z||!T){let e="Telegram WebApp not initialized or no user data";console.error("\uD83D\uDD34 Missing data:",{initData:!!z,user:!!T}),p(e),N(e),null==a||a(e);return}j(!0),N(null),console.log("\uD83D\uDD04 Starting Telegram WebApp authentication..."),p("Starting Telegram WebApp authentication...");try{L.impact("light"),console.log("\uD83D\uDD04 Validating initData with server...");let e=await I(z);if(console.log("\uD83D\uDD04 Server validation result:",e),!e)throw console.error("\uD83D\uDD34 Server validation failed"),Error("Invalid Telegram data");console.log("✅ Server validation passed, calling NextAuth signIn..."),p("Calling NextAuth signIn with validated data...");let a=await (0,x.signIn)("telegram-miniapp",{initData:z,redirect:!1});if(console.log("\uD83D\uDD04 NextAuth signIn result:",a),p("NextAuth signIn result:",a),null==a?void 0:a.ok)p("Authentication successful"),L.notification("success"),null==t||t(T);else throw Error((null==a?void 0:a.error)||"Authentication failed")}catch(t){p("Authentication error:",t);let e=t.message||"Authentication failed";console.error("\uD83D\uDD34 Telegram auth error:",e,t),N(e),L.notification("error"),null==a||a(e)}finally{j(!1)}},[z,T,t,a,I,L,S]);if(A)return(0,s.jsx)(r.Zp,{className:o,children:(0,s.jsxs)(r.aR,{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.A,{className:"h-5 w-5 animate-spin"}),(0,s.jsx)(r.ZB,{className:"text-lg",children:v("loadingTitle")})]}),(0,s.jsx)(r.BT,{children:v("loadingDescription")})]})});if("authenticated"===y){var D,H;return(0,s.jsxs)(r.Zp,{className:o,children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.A,{className:"h-5 w-5 text-green-500"}),(0,s.jsx)(r.ZB,{className:"text-lg",children:v("alreadyAuthenticatedTitle")})]}),(0,s.jsx)(r.BT,{children:v("alreadyAuthenticatedDescription",{user:(null==(D=C.user)?void 0:D.name)||(null==(H=C.user)?void 0:H.email)||""})})]}),(0,s.jsx)(r.Wu,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(l.E,{variant:"secondary",children:[v("provider"),": ",(null==C?void 0:C.provider)||v("unknown")]}),k&&(0,s.jsxs)(l.E,{variant:"outline",children:[(0,s.jsx)(u.A,{className:"h-3 w-3 mr-1"}),v("telegramWebapp")]})]})})]})}return k?(0,s.jsxs)(r.Zp,{className:o,children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-[#0088cc] rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"m12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.894 8.221-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"})})}),(0,s.jsx)(r.ZB,{className:"text-lg",children:v("title")})]}),(0,s.jsx)(r.BT,{children:v("description")})]}),(0,s.jsxs)(r.Wu,{className:"space-y-4",children:[T&&(0,s.jsx)("div",{className:"p-3 bg-muted rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[T.photo_url&&(0,s.jsx)("img",{src:T.photo_url,alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium",children:[T.first_name," ",T.last_name||""]}),T.username&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["@",T.username]})]}),T.is_premium&&(0,s.jsx)(l.E,{variant:"secondary",className:"ml-auto",children:v("premium")})]})}),w&&(0,s.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 text-destructive"}),(0,s.jsx)("p",{className:"text-sm text-destructive",children:w})]})}),(0,s.jsx)(n.$,{onClick:M,disabled:b||!T||!z,className:"w-full",size:"lg",children:b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"mr-2 h-4 w-4 animate-spin"}),v("authenticating")]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),v("signInWithTelegram")]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[(0,s.jsxs)(l.E,{variant:"outline",className:"px-2 py-1",children:[v("platform"),": ",B||v("unknown")]}),_&&(0,s.jsxs)(l.E,{variant:"outline",className:"px-2 py-1",children:[v("version"),": ",_]}),(0,s.jsxs)(l.E,{variant:"outline",className:"px-2 py-1",children:[v("theme"),": ",E]})]})]})]}):(0,s.jsxs)(r.Zp,{className:o,children:[(0,s.jsxs)(r.aR,{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 text-amber-500"}),(0,s.jsx)(r.ZB,{className:"text-lg",children:v("notInTelegramTitle")})]}),(0,s.jsx)(r.BT,{children:v("notInTelegramDescription")})]}),(0,s.jsx)(r.Wu,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:v("notInTelegramNote")})})]})}},55366:(e,t,a)=>{a.d(t,{SidebarLayout:()=>ew});var s=a(95155),l=a(12115),n=a(99708),r=a(74466),i=a(22432),o=a(53999),c=a(97168);a(89852);var d=a(76037),u=a(15452),h=a(54416);function x(e){let{...t}=e;return(0,s.jsx)(u.bL,{"data-slot":"sheet",...t})}function m(e){let{...t}=e;return(0,s.jsx)(u.ZL,{"data-slot":"sheet-portal",...t})}function g(e){let{className:t,...a}=e;return(0,s.jsx)(u.hJ,{"data-slot":"sheet-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function p(e){let{className:t,children:a,side:l="right",...n}=e;return(0,s.jsxs)(m,{children:[(0,s.jsx)(g,{}),(0,s.jsxs)(u.UC,{"data-slot":"sheet-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===l&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===l&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===l&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===l&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[a,(0,s.jsxs)(u.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,s.jsx)(h.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function f(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sheet-header",className:(0,o.cn)("flex flex-col gap-1.5 p-4",t),...a})}function v(e){let{className:t,...a}=e;return(0,s.jsx)(u.hE,{"data-slot":"sheet-title",className:(0,o.cn)("text-foreground font-semibold",t),...a})}function b(e){let{className:t,...a}=e;return(0,s.jsx)(u.VY,{"data-slot":"sheet-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...a})}a(27737);var j=a(37777);let w=l.createContext(null);function N(){let e=l.useContext(w);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function C(e){let{defaultOpen:t=!0,open:a,onOpenChange:n,className:r,style:i,children:c,...d}=e,u=function(){let[e,t]=l.useState(void 0);return l.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[h,x]=l.useState(!1),[m,g]=l.useState(t),p=null!=a?a:m,f=l.useCallback(e=>{let t="function"==typeof e?e(p):e;n?n(t):g(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[n,p]),v=l.useCallback(()=>u?x(e=>!e):f(e=>!e),[u,f,x]);l.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);let b=p?"expanded":"collapsed",N=l.useMemo(()=>({state:b,open:p,setOpen:f,isMobile:u,openMobile:h,setOpenMobile:x,toggleSidebar:v}),[b,p,f,u,h,x,v]);return(0,s.jsx)(w.Provider,{value:N,children:(0,s.jsx)(j.Bc,{delayDuration:0,children:(0,s.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...i},className:(0,o.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...d,children:c})})})}function y(e){let{side:t="left",variant:a="sidebar",collapsible:l="offcanvas",className:n,children:r,...i}=e,{isMobile:c,state:d,openMobile:u,setOpenMobile:h}=N();return"none"===l?(0,s.jsx)("div",{"data-slot":"sidebar",className:(0,o.cn)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...i,children:r}):c?(0,s.jsx)(x,{open:u,onOpenChange:h,...i,children:(0,s.jsxs)(p,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,s.jsxs)(f,{className:"sr-only",children:[(0,s.jsx)(v,{children:"Sidebar"}),(0,s.jsx)(b,{children:"Displays the mobile sidebar."})]}),(0,s.jsx)("div",{className:"flex h-full w-full flex-col",children:r})]})}):(0,s.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":d,"data-collapsible":"collapsed"===d?l:"","data-variant":a,"data-side":t,"data-slot":"sidebar",children:[(0,s.jsx)("div",{"data-slot":"sidebar-gap",className:(0,o.cn)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===a||"inset"===a?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,s.jsx)("div",{"data-slot":"sidebar-container",className:(0,o.cn)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===a||"inset"===a?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:(0,s.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:r})})]})}function k(e){let{className:t,onClick:a,...l}=e,{toggleSidebar:n}=N();return(0,s.jsxs)(c.$,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,o.cn)("size-7",t),onClick:e=>{null==a||a(e),n()},...l,children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function A(e){let{className:t,...a}=e,{toggleSidebar:l}=N();return(0,s.jsx)("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:l,title:"Toggle Sidebar",className:(0,o.cn)("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...a})}function T(e){let{className:t,...a}=e;return(0,s.jsx)("main",{"data-slot":"sidebar-inset",className:(0,o.cn)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...a})}function z(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:(0,o.cn)("flex flex-col gap-2 p-2",t),...a})}function B(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,o.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a})}function _(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:(0,o.cn)("relative flex w-full min-w-0 flex-col p-2",t),...a})}function E(e){let{className:t,asChild:a=!1,...l}=e,r=a?n.DX:"div";return(0,s.jsx)(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:(0,o.cn)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...l})}function S(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:(0,o.cn)("w-full text-sm",t),...a})}function L(e){let{className:t,...a}=e;return(0,s.jsx)("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:(0,o.cn)("flex w-full min-w-0 flex-col gap-1",t),...a})}function I(e){let{className:t,...a}=e;return(0,s.jsx)("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:(0,o.cn)("group/menu-item relative",t),...a})}let M=(0,r.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function D(e){let{asChild:t=!1,isActive:a=!1,variant:l="default",size:r="default",tooltip:i,className:c,...d}=e,u=t?n.DX:"button",{isMobile:h,state:x}=N(),m=(0,s.jsx)(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":a,className:(0,o.cn)(M({variant:l,size:r}),c),...d});return i?("string"==typeof i&&(i={children:i}),(0,s.jsxs)(j.m_,{children:[(0,s.jsx)(j.k$,{asChild:!0,children:m}),(0,s.jsx)(j.ZI,{side:"right",align:"center",hidden:"collapsed"!==x||h,...i})]})):m}function H(e){let{className:t,...a}=e;return(0,s.jsx)("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:(0,o.cn)("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l pl-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...a})}function U(e){let{className:t,...a}=e;return(0,s.jsx)("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:(0,o.cn)("group/menu-sub-item relative",t),...a})}function F(e){let{asChild:t=!1,size:a="md",isActive:l=!1,className:r,...i}=e,c=t?n.DX:"a";return(0,s.jsx)(c,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":a,"data-active":l,className:(0,o.cn)("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===a&&"text-xs","md"===a&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})}var V=a(66766),W=a(6874),O=a.n(W);function Z(e){let{name:t,logo:a,version:l}=e;return(0,s.jsx)(c.$,{size:"lg",variant:"ghost",asChild:!0,className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground justify-start p-3 px-3",children:(0,s.jsxs)(O(),{href:"/",children:[(0,s.jsx)("div",{className:"flex size-8 items-center justify-center",children:(0,s.jsx)(V.default,{src:"".concat("/hasyx","/").concat(a||"logo.svg"),alt:"Hasyx Logo",width:32,height:32})}),(0,s.jsxs)("div",{className:"flex flex-col gap-0.5 leading-none",children:[(0,s.jsx)("span",{className:"font-semibold",children:t}),(0,s.jsxs)("span",{className:"",children:["v",l]})]})]})})}var R=a(32066),P=a(12791),$=a(35695),X=a(13052),q=a(66474);function J(e){let{data:t}=e,a=(0,$.usePathname)(),[n,r]=(0,l.useState)(new Set),[i,o]=(0,l.useState)(new Set);(0,l.useEffect)(()=>{{let e=localStorage.getItem("sidebar-collapsed-sections");if(e)try{let t=JSON.parse(e);o(new Set(t))}catch(e){console.warn("Failed to parse saved collapsed sections:",e)}}},[]);let c=e=>{if(e.url===a||e.url===a+"/"||"Documentation"===e.title&&a.startsWith("/hasyx/doc"))return!0;if(a.startsWith("/hasyx/doc/")&&e.url.startsWith("/hasyx/doc/")){var t,s;if((null==(t=a.split("/hasyx/doc/")[1])?void 0:t.split("#")[0])===(null==(s=e.url.split("/hasyx/doc/")[1])?void 0:s.split("#")[0]))return!0}return!!e.items&&e.items.some(e=>c(e))};(0,l.useEffect)(()=>{let e=new Set,s=t=>{t.forEach(t=>{if(t.collapse){c(t);let s=i.has("expand-".concat(t.title));if(i.has(t.title))e.add(t.title);else if(s);else if(a.startsWith("/hasyx/doc/")&&t.url.startsWith("/hasyx/doc/")){var l,n;(null==(l=a.split("/hasyx/doc/")[1])?void 0:l.split("#")[0])===(null==(n=t.url.split("/hasyx/doc/")[1])?void 0:n.split("#")[0])||e.add(t.title)}else e.add(t.title)}t.items&&s(t.items)})};s(t.navMain),r(e)},[a,t.navMain,i]);let d=e=>{r(t=>{let a=new Set(t),s=a.has(e);return s?a.delete(e):a.add(e),o(t=>{let a=new Set(t);return s?(a.delete(e),a.add("expand-".concat(e))):(a.add(e),a.delete("expand-".concat(e))),localStorage.setItem("sidebar-collapsed-sections",JSON.stringify(Array.from(a))),a}),a})};return(0,s.jsxs)(y,{children:[(0,s.jsx)(z,{className:"pt-3",children:(0,s.jsx)(Z,{name:t.name,logo:t.logo,version:t.version})}),(0,s.jsxs)(B,{children:[(0,s.jsx)(R.H,{style:{margin:16}}),(0,s.jsx)(P.Q$,{style:{margin:16}}),t.navMain.map((e,t)=>{var l;c(e);let r=e.collapse&&n.has(e.title),i=!e.collapse||!r;return(0,s.jsxs)(_,{children:[(0,s.jsxs)(E,{className:e.collapse?"cursor-pointer flex items-center justify-between hover:bg-sidebar-accent hover:text-sidebar-accent-foreground rounded-md px-2 py-1 transition-colors":"",onClick:e.collapse?()=>d(e.title):void 0,children:[(0,s.jsx)("span",{className:"sidebar-text-truncate",title:e.title,children:e.title}),e.collapse&&(r?(0,s.jsx)(X.A,{className:"h-4 w-4 flex-shrink-0"}):(0,s.jsx)(q.A,{className:"h-4 w-4 flex-shrink-0"}))]}),i&&(0,s.jsx)(S,{children:(0,s.jsx)(L,{children:null==e||null==(l=e.items)?void 0:l.map((e,t)=>{if(e.collapse){let l=n.has(e.title);return(0,s.jsxs)(I,{children:[(0,s.jsx)(D,{asChild:!e.collapse,isActive:c(e),className:e.collapse?"cursor-pointer flex items-center justify-between":"",onClick:e.collapse?()=>d(e.title):void 0,children:e.collapse?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"sidebar-sub-text-truncate",title:e.title,children:e.title}),l?(0,s.jsx)(X.A,{className:"h-4 w-4 flex-shrink-0"}):(0,s.jsx)(q.A,{className:"h-4 w-4 flex-shrink-0"})]}):(0,s.jsx)("a",{href:e.url,className:"sidebar-sub-text-truncate",title:e.title,children:e.title})}),!l&&e.items&&e.items.length>0&&(0,s.jsx)(H,{children:e.items.map((e,t)=>{let l=e.url===a||a.includes(e.url)||window.location.href.includes(e.url),n=e.level||2,r=2===n?"pl-0":3===n?"pl-4":4===n?"pl-8":5===n?"pl-12":6===n?"pl-16":"pl-4";return(0,s.jsx)(U,{children:(0,s.jsx)(F,{asChild:!0,isActive:l,className:"w-full ".concat(r),children:(0,s.jsx)("a",{href:e.url,className:"sidebar-subsub-text-truncate w-full max-w-full",title:e.title,children:e.title})})},"".concat(e.title,"-").concat(t))})})]},"".concat(e.title,"-").concat(t))}{let l=e.url===a||e.url===a+"/"||a.startsWith("/hasyx/doc/")&&e.url.includes(a.split("#")[0]);return(0,s.jsxs)(I,{children:[(0,s.jsx)(D,{asChild:!0,isActive:l,children:(0,s.jsx)("a",{href:e.url,className:"sidebar-sub-text-truncate",title:e.title,children:e.title})}),e.items&&e.items.length>0&&(0,s.jsx)(H,{children:e.items.map((e,t)=>{let l=e.url===a||a.includes(e.url)||window.location.href.includes(e.url),n=e.level||2,r=2===n?"pl-0":3===n?"pl-4":4===n?"pl-8":5===n?"pl-12":6===n?"pl-16":"pl-4";return(0,s.jsx)(U,{children:(0,s.jsx)(F,{asChild:!0,isActive:l,className:"w-full ".concat(r),children:(0,s.jsx)("a",{href:e.url,className:"sidebar-subsub-text-truncate w-full max-w-full",title:e.title,children:e.title})})},"".concat(e.title,"-").concat(t))})})]},"".concat(e.title,"-").concat(t))}})})})]},"".concat(e.title,"-").concat(t))})]}),(0,s.jsx)(A,{})]})}function G(e){let{...t}=e;return(0,s.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function K(e){let{className:t,...a}=e;return(0,s.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,o.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...a})}function Y(e){let{className:t,...a}=e;return(0,s.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,o.cn)("inline-flex items-center gap-1.5",t),...a})}function Q(e){let{asChild:t,className:a,...l}=e,r=t?n.DX:"a";return(0,s.jsx)(r,{"data-slot":"breadcrumb-link",className:(0,o.cn)("hover:text-foreground transition-colors",a),...l})}function ee(e){let{children:t,className:a,...l}=e;return(0,s.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,o.cn)("[&>svg]:size-3.5",a),...l,children:null!=t?t:(0,s.jsx)(X.A,{})})}var et=a(48698);function ea(e){let{...t}=e;return(0,s.jsx)(et.bL,{"data-slot":"dropdown-menu",...t})}function es(e){let{...t}=e;return(0,s.jsx)(et.l9,{"data-slot":"dropdown-menu-trigger",...t})}function el(e){let{className:t,sideOffset:a=4,...l}=e;return(0,s.jsx)(et.ZL,{children:(0,s.jsx)(et.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...l})})}function en(e){let{className:t,inset:a,variant:l="default",...n}=e;return(0,s.jsx)(et.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":l,className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function er(e){let{className:t,inset:a,...l}=e;return(0,s.jsx)(et.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,o.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...l})}function ei(e){let{className:t,...a}=e;return(0,s.jsx)(et.wv,{"data-slot":"dropdown-menu-separator",className:(0,o.cn)("bg-border -mx-1 my-1 h-px",t),...a})}var eo=a(69663),ec=a(59099),ed=a(62525),eu=a(34835),eh=a(70306),ex=a(88893),em=a(99173),eg=a(44293);function ep(e){let{account:t,delete:a,_delete:l}=e;return(0,s.jsxs)(en,{className:"flex items-center justify-between gap-3 cursor-default px-2 py-1.5",onClick:e=>e.preventDefault(),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[function(e){switch(e.toLowerCase()){case"github":return(0,s.jsx)(ec.A,{className:"w-4 h-4"});case"google":return(0,s.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,s.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,s.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),(0,s.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]});case"yandex":return(0,s.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M2 12C2 6.48 6.48 2 12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12Z",fill:"#FC3F1D"}),(0,s.jsx)("path",{d:"M13.155 17.833H15.314V6.167H12.647C9.521 6.167 8.138 7.574 8.138 9.786C8.138 11.602 8.995 12.779 10.635 14.197L8 17.833H10.379L13.155 13.971L12.269 13.232C10.95 12.126 10.264 11.269 10.264 9.692C10.264 8.458 11.082 7.696 12.647 7.696H13.155V17.833Z",fill:"white"})]});case"facebook":return(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"#1877F2",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M22.676 0H1.324C.593 0 0 .593 0 1.324v21.352C0 23.407.593 24 1.324 24h11.494v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116c.73 0 1.323-.593 1.323-1.324V1.324C24 .593 23.407 0 22.676 0z"})});case"vk":return(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"#4680C2",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M13.125 12.281L14.344 10.5H12.375V8.344C12.375 7.85625 12.6094 7.625 13.0969 7.625H14.375V5.8125C14.0156 5.76562 13.3906 5.71875 12.5 5.71875C10.6562 5.71875 9.5 6.82812 9.5 8.82812V10.5H7.5V12.281L9.5 14.062V18.281C9.5 18.9688 9.96875 19.4375 10.6562 19.4375H12.3125V16.1875C11.6094 16.1094 11.1562 15.625 11.1562 14.9375V14.062L13.125 12.281Z"})});case"telegram":return(0,s.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"#0088cc",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"m12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.894 8.221-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"})});default:return(0,s.jsx)("div",{className:"w-4 h-4 rounded-full bg-primary/20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium",children:e.charAt(0).toUpperCase()})})}}(t.provider),(0,s.jsx)("span",{className:"text-sm font-medium capitalize",children:t.provider})]}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),a(t)},className:"text-xs text-muted-foreground hover:text-destructive",title:(0,ex.c3)("tooltips")("deleteAccountConnection"),children:(0,s.jsx)(ed.A,{size:14})})]})}function ef(e){let{userId:t}=e,a=(0,ex.c3)("auth");return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(er,{className:"text-xs text-muted-foreground",children:a("connectedAccounts")}),(0,s.jsx)(em.b,{userId:t,AccountComponent:ep})]})}function ev(e){var t,a;let{}=e,l=(0,ex.Dh)(),n=(0,ex.c3)("auth"),r=async()=>{l.logout({callbackUrl:"/"})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(er,{className:"font-normal",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium leading-none",children:(null==(t=l.user)?void 0:t.name)||"User"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:(0,s.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:null==(a=l.user)?void 0:a.email})})]})}),(0,s.jsx)(ei,{}),l.userId&&(0,s.jsx)(ef,{userId:l.userId}),(0,s.jsx)(ei,{}),(0,s.jsxs)(en,{onClick:r,className:"text-red-600 focus:text-red-600",children:[(0,s.jsx)(eu.A,{className:"mr-2 h-4 w-4"}),n("signOut")]})]})}function eb(){let e=(0,ex.c3)("auth");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(er,{children:e("signInToYourAccount")}),(0,s.jsx)(ei,{}),(0,s.jsx)("div",{className:"p-2",children:(0,s.jsx)(eg.z,{})})]})}function ej(){var e,t,a,n,r;let i=(0,ex.Dh)(),[o,d]=(0,l.useState)(!1),u=((0,ex.c3)("common"),(0,ex.c3)("auth")),h=null==i?void 0:i.userId;return(0,s.jsxs)(ea,{open:o,onOpenChange:d,children:[(0,s.jsx)(es,{asChild:!0,children:(0,s.jsx)(c.$,{variant:"ghost",className:"relative h-8 w-auto rounded-full px-3",disabled:!1,children:h?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium hidden sm:inline-block",children:(null==i||null==(e=i.user)?void 0:e.name)||"User"}),(0,s.jsxs)(eo.eu,{className:"h-6 w-6",children:[(0,s.jsx)(eo.BK,{src:(null==i||null==(t=i.user)?void 0:t.image)||void 0,alt:(null==i||null==(a=i.user)?void 0:a.name)||"User"}),(0,s.jsx)(eo.q5,{className:"text-xs",children:(r=null==i||null==(n=i.user)?void 0:n.name)?r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U"})]})]}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:u("signIn")}),(0,s.jsx)(eh.A,{className:"h-4 w-4"})]})})}),(0,s.jsx)(el,{className:"w-64",align:"end",children:h?(0,s.jsx)(ev,{}):(0,s.jsx)(eb,{})})]})}function ew(e){let{children:t,sidebarData:a,breadcrumb:n=[]}=e;return(0,s.jsxs)(C,{children:[(0,s.jsx)(J,{data:a}),(0,s.jsxs)(T,{children:[(0,s.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,s.jsx)(k,{className:"-ml-1"}),(0,s.jsx)(d.w,{orientation:"vertical",className:"mr-2 h-4"}),(0,s.jsx)(G,{children:(0,s.jsx)(K,{children:n.map((e,t)=>(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(Y,{className:"hidden md:block",children:(0,s.jsx)(Q,{href:e.link||"#",children:e.title})}),t<n.length-1&&(0,s.jsx)(ee,{className:"hidden md:block"})]},t))})}),(0,s.jsx)("div",{className:"ml-auto",children:(0,s.jsx)(ej,{})})]}),(0,s.jsx)("div",{className:"flex flex-1 flex-col",children:t})]})]})}},69663:(e,t,a)=>{a.d(t,{BK:()=>i,eu:()=>r,q5:()=>o});var s=a(95155);a(12115);var l=a(54011),n=a(53999);function r(e){let{className:t,...a}=e;return(0,s.jsx)(l.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)(l._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)(l.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}},76037:(e,t,a)=>{a.d(t,{w:()=>r});var s=a(95155);a(12115);var l=a(87489),n=a(53999);function r(e){let{className:t,orientation:a="horizontal",decorative:r=!0,...i}=e;return(0,s.jsx)(l.b,{"data-slot":"separator-root",decorative:r,orientation:a,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}},99173:(e,t,a)=>{a.d(t,{b:()=>T});var s=a(95155),l=a(12115),n=a(97168),r=a(88893),i=a(62525),o=a(51154),c=a(84616),d=a(17649),u=a(53999);function h(e){let{...t}=e;return(0,s.jsx)(d.bL,{"data-slot":"alert-dialog",...t})}function x(e){let{...t}=e;return(0,s.jsx)(d.ZL,{"data-slot":"alert-dialog-portal",...t})}function m(e){let{className:t,...a}=e;return(0,s.jsx)(d.hJ,{"data-slot":"alert-dialog-overlay",className:(0,u.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function g(e){let{className:t,...a}=e;return(0,s.jsxs)(x,{children:[(0,s.jsx)(m,{}),(0,s.jsx)(d.UC,{"data-slot":"alert-dialog-content",className:(0,u.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a})]})}function p(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,u.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function f(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,u.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function v(e){let{className:t,...a}=e;return(0,s.jsx)(d.hE,{"data-slot":"alert-dialog-title",className:(0,u.cn)("text-lg font-semibold",t),...a})}function b(e){let{className:t,...a}=e;return(0,s.jsx)(d.VY,{"data-slot":"alert-dialog-description",className:(0,u.cn)("text-muted-foreground text-sm",t),...a})}function j(e){let{className:t,...a}=e;return(0,s.jsx)(d.rc,{className:(0,u.cn)((0,n.r)(),t),...a})}function w(e){let{className:t,...a}=e;return(0,s.jsx)(d.ZD,{className:(0,u.cn)((0,n.r)({variant:"outline"}),t),...a})}var N=a(99840),C=a(44293),y=a(56671);let k=(0,a(13853).A)("accounts");function A(e){let{account:t,delete:a}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[function(e){let t="h-4 w-4";switch(e.toLowerCase()){case"google":return(0,s.jsxs)("svg",{className:t,viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});case"github":return(0,s.jsx)("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})});case"yandex":return(0,s.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fill:"#FC3F1D",d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.568 8.16c0 3.123-1.968 4.608-3.744 4.608-.72 0-1.296-.24-1.728-.624v3.696h-1.632V6.72h1.632v.624c.432-.384 1.008-.624 1.728-.624 1.776 0 3.744 1.485 3.744 4.44zm-1.632 0c0-1.968-.96-3.024-2.256-3.024s-2.256 1.056-2.256 3.024.96 3.024 2.256 3.024 2.256-1.056 2.256-3.024z"})});case"telegram":return(0,s.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})});default:return(0,s.jsx)("div",{className:"".concat(t," bg-gray-300 rounded-full flex items-center justify-center text-xs font-bold text-gray-600"),children:e.charAt(0).toUpperCase()})}}(t.provider),(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("span",{className:"text-sm font-medium capitalize",children:t.provider})})]}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:a,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})]})}function T(e){let{userId:t,AccountComponent:a=A}=e,i=(0,r.Dh)(),d=(0,r.c3)("accounts"),u=(0,r.c3)("actions"),x=(0,r.c3)("errors"),m=(0,r.c3)("success"),T=t||i.userId,[z,B]=(0,l.useState)(!1),[_,E]=(0,l.useState)(null),[S,L]=(0,l.useState)(!1),[I,M]=(0,l.useState)(!1),{data:D=[],error:H,loading:U,refetch:F}=(0,r.IT)({table:"accounts",where:{user_id:{_eq:T}},returning:["id","provider","user_id"]},{skip:!T,role:"me"}),V=e=>{E(e),B(!0)},W=async e=>{if(i){L(!0);try{await i.delete({table:"accounts",where:{id:{_eq:e.id}}}),y.oR.success(m("accountDisconnected",{provider:e.provider})),F()}catch(e){k("Error deleting account:",e),y.oR.error(x("accountDisconnectFailed"))}finally{L(!1)}}},O=async()=>{_&&(await W(_),B(!1),E(null))};return T?U?(0,s.jsxs)("div",{className:"flex items-center justify-center px-2 py-1",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 animate-spin mr-2"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:d("loading")})]}):0===D.length?(0,s.jsx)("div",{className:"text-sm text-muted-foreground px-2 py-1",children:d("noConnected")}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-3",children:[D.map(e=>(0,s.jsx)(a,{account:e,delete:()=>V(e),_delete:()=>W(e)},e.id)),(0,s.jsxs)(n.$,{variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>M(!0),children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:d("addAccount")})]})]}),(0,s.jsx)(h,{open:z,onOpenChange:B,children:(0,s.jsxs)(g,{children:[(0,s.jsxs)(p,{children:[(0,s.jsx)(v,{children:d("disconnectTitle")}),(0,s.jsx)(b,{children:d("disconnectDescription",{provider:(null==_?void 0:_.provider)||""})})]}),(0,s.jsxs)(f,{children:[(0,s.jsx)(w,{children:u("cancel")}),(0,s.jsxs)(j,{onClick:O,disabled:S,className:"bg-red-600 hover:bg-red-700",children:[S&&(0,s.jsx)(o.A,{className:"h-4 w-4 animate-spin mr-2"}),u("disconnect")]})]})]})}),(0,s.jsx)(N.lG,{open:I,onOpenChange:M,children:(0,s.jsxs)(N.Cf,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(N.c7,{children:[(0,s.jsx)(N.L3,{children:d("addAccountTitle")}),(0,s.jsx)(N.rr,{children:d("addAccountDescription")})]}),(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)(C.z,{})})]})})]}):(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:d("noUserId")})}},99840:(e,t,a)=>{a.d(t,{Cf:()=>u,Es:()=>x,L3:()=>m,c7:()=>h,lG:()=>i,rr:()=>g,zM:()=>o});var s=a(95155);a(12115);var l=a(15452),n=a(54416),r=a(53999);function i(e){let{...t}=e;return(0,s.jsx)(l.bL,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,s.jsx)(l.l9,{"data-slot":"dialog-trigger",...t})}function c(e){let{...t}=e;return(0,s.jsx)(l.ZL,{"data-slot":"dialog-portal",...t})}function d(e){let{className:t,...a}=e;return(0,s.jsx)(l.hJ,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,children:a,close:i,...o}=e;return(0,s.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,s.jsx)(d,{}),(0,s.jsxs)(l.UC,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[a,!!i&&(0,s.jsxs)(l.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(n.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function x(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function m(e){let{className:t,...a}=e;return(0,s.jsx)(l.hE,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",t),...a})}function g(e){let{className:t,...a}=e;return(0,s.jsx)(l.VY,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}}}]);