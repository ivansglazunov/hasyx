"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6388],{16388:(e,i,t)=>{t.r(i),t.d(i,{FirebaseMessagingWeb:()=>n});var a=t(6267),r=t(20996);class n extends a.E_{constructor(){super(),(0,r.isSupported)().then(e=>{if(!e)return;let i=(0,r.getMessaging)();(0,r.onMessage)(i,e=>this.handleNotificationReceived(e))})}async checkPermissions(){return await (0,r.isSupported)()?{receive:this.convertNotificationPermissionToPermissionState(Notification.permission)}:{receive:"denied"}}async requestPermissions(){if(!await (0,r.isSupported)())return{receive:"denied"};let e=await Notification.requestPermission();return{receive:this.convertNotificationPermissionToPermissionState(e)}}async isSupported(){return{isSupported:await (0,r.isSupported)()}}async getToken(e){let i=(0,r.getMessaging)();return{token:await (0,r.getToken)(i,{vapidKey:e.vapidKey,serviceWorkerRegistration:e.serviceWorkerRegistration})}}async deleteToken(){let e=(0,r.getMessaging)();await (0,r.deleteToken)(e)}async getDeliveredNotifications(){this.throwUnavailableError()}async removeDeliveredNotifications(e){this.throwUnavailableError()}async removeAllDeliveredNotifications(){this.throwUnavailableError()}async subscribeToTopic(e){this.throwUnavailableError()}async unsubscribeFromTopic(e){this.throwUnavailableError()}async createChannel(e){this.throwUnavailableError()}async deleteChannel(e){this.throwUnavailableError()}async listChannels(){this.throwUnavailableError()}handleNotificationReceived(e){let i=this.createNotificationResult(e);this.notifyListeners(n.notificationReceivedEvent,{notification:i})}createNotificationResult(e){var i,t,a;return{body:null==(i=e.notification)?void 0:i.body,data:e.data,id:e.messageId,image:null==(t=e.notification)?void 0:t.image,title:null==(a=e.notification)?void 0:a.title}}convertNotificationPermissionToPermissionState(e){let i="prompt";switch(e){case"granted":i="granted";break;case"denied":i="denied"}return i}throwUnavailableError(){throw this.unavailable("Not available on web.")}}n.notificationReceivedEvent="notificationReceived"}}]);