(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7943],{58569:(e,t,n)=>{Promise.resolve().then(n.bind(n,97368))},72446:(e,t,n)=>{"use strict";n.d(t,{_L:()=>r,mu:()=>a});var s=n(12115);let i=(0,n(13853).A)("device-permissions"),r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{autoRequest:n=!1}=t,[r,a]=(0,s.useState)("unknown"),[l,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),u=(0,s.useRef)(!1),x=(0,s.useCallback)(async()=>{let t,n;if("motion"===e?(t="undefined"!=typeof DeviceMotionEvent?DeviceMotionEvent:void 0,n="device motion"):(t="undefined"!=typeof DeviceOrientationEvent?DeviceOrientationEvent:void 0,n="device orientation"),!t||!("requestPermission"in t))return u.current=!0,a("granted"),!0;a("requesting");try{let e=await t.requestPermission(),n="granted"===e;return u.current=n,a(n?"granted":"denied"),n||o(!0),n}catch(e){return console.error("Error requesting ".concat(n," permission:"),e),a("denied"),o(!0),!1}},[e]),m="motion"===e?"undefined"!=typeof DeviceMotionEvent:"undefined"!=typeof DeviceOrientationEvent,h=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;return(0,s.useEffect)(()=>{if(n&&m&&!c){if(i("Auto-requesting ".concat(e," permission...")),d(!0),h()){i("iOS detected, setting needsUserInteraction for ".concat(e)),o(!0);return}let t=setTimeout(async()=>{try{let t=await x();i("Auto-request result for ".concat(e,":"),t)}catch(t){i("Auto-request failed for ".concat(e,":"),t),o(!0)}},100);return()=>clearTimeout(t)}i("Auto-request skipped for ".concat(e,":"),{autoRequest:n,isSupported:m,hasWindow:!0,hasTriedAutoRequest:c})},[n,m,x,e,c]),{permissionStatus:r,requestPermission:x,isSupported:m,needsUserInteraction:l,hasTriedAutoRequest:c}},a=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return r("orientation",{autoRequest:e})}},97368:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var s=n(95155),i=n(59918),r=n(80239),a=n(55366),l=n(12115),o=n(72446);let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{threshold:n=15,cooldown:s=300,requirePermission:i=!0}=t,r=(0,l.useRef)(0),a=(0,o._L)("motion"),c=(0,l.useCallback)(t=>{let i=Date.now();if(i-r.current<s)return;let a=t.accelerationIncludingGravity;if(!a||null===a.x||null===a.y||null===a.z)return;let l=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);l>n&&(r.current=i,e({acceleration:{x:a.x,y:a.y,z:a.z},magnitude:l,timestamp:i}))},[e,n,s]);return(0,l.useEffect)(()=>{let e=(async()=>{if(!i||"granted"===a.permissionStatus||await a.requestPermission())return window.addEventListener("devicemotion",c,!0),()=>{window.removeEventListener("devicemotion",c,!0)}})();return()=>{e.then(e=>null==e?void 0:e())}},[c,i,a]),{requestPermission:a.requestPermission,isSupported:a.isSupported,permissionGranted:"granted"===a.permissionStatus,permissionStatus:a.permissionStatus}};function d(){let[e,t]=(0,l.useState)(!1),[n,i]=(0,l.useState)(null),[r,a]=(0,l.useState)(0),[o,d]=(0,l.useState)(""),{requestPermission:u,isSupported:x,permissionGranted:m,permissionStatus:h}=c(e=>{t(!0),i(e),a(e=>e+1),d(new Date().toLocaleTimeString()),setTimeout(()=>t(!1),100)},{threshold:15,cooldown:300,requirePermission:!0});return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 text-neutral-100",children:[(0,s.jsxs)("div",{className:"text-center mb-10",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Shake Demo"}),(0,s.jsx)("p",{className:"text-neutral-400 text-sm",children:"Shake your device to trigger glow"})]}),(0,s.jsx)("div",{className:"mb-10 relative",children:(0,s.jsxs)("div",{className:"w-48 h-48 rounded-full transition-all ".concat(e?"bg-cyan-400 shadow-[0_0_60px_12px_rgba(34,211,238,0.8)] scale-110":"bg-neutral-700 shadow scale-100"),style:{background:e?"radial-gradient(circle, #06b6d4, #0891b2, #0e7490)":"radial-gradient(circle, #3f3f46, #262626, #171717)",transition:e?"all 80ms ease-out":"all 1600ms cubic-bezier(0.23,1,0.32,1)"},children:[(0,s.jsx)("div",{className:"absolute inset-4 rounded-full transition-all ".concat(e?"bg-white/30 shadow-inner":"bg-neutral-600/20")}),(0,s.jsx)("div",{className:"absolute inset-16 rounded-full transition-all ".concat(e?"bg-white shadow":"bg-neutral-500")})]})}),(0,s.jsx)("div",{className:"mb-6 p-4 rounded-lg bg-neutral-900 border border-neutral-800 w-[320px]",children:(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-neutral-300",children:"Supported:"}),(0,s.jsx)("span",{className:x?"text-emerald-400":"text-red-400",children:x?"Yes":"No"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-neutral-300",children:"Permission:"}),(0,s.jsx)("span",{className:"text-neutral-200",children:h})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-neutral-300",children:"Shock Count:"}),(0,s.jsx)("span",{className:"text-neutral-100 font-mono",children:r})]}),o&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-neutral-300",children:"Last Shock:"}),(0,s.jsx)("span",{className:"text-neutral-100 font-mono text-xs",children:o})]})]})}),x&&"granted"!==h&&(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{onClick:u,disabled:"requesting"===h,className:"px-4 py-2 rounded-md bg-neutral-100 text-neutral-900 text-sm disabled:opacity-60",children:"requesting"===h?"Requesting...":"Grant motion permission"})}),n&&(0,s.jsx)("div",{className:"mt-8 p-4 rounded-lg bg-neutral-900 border border-neutral-800 w-[320px] text-xs text-neutral-300",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Magnitude:"})," ",n.magnitude.toFixed(2)]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"X:"})," ",n.acceleration.x.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Y:"})," ",n.acceleration.y.toFixed(2)]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Z:"})," ",n.acceleration.z.toFixed(2)]})]})]})})]})}function u(){return(0,s.jsx)(a.SidebarLayout,{sidebarData:i.A,breadcrumb:[{title:r.UU,link:"/"},{title:"Shake"}],children:(0,s.jsx)(d,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2115,5741,8893,5366,4499,9918,8441,1684,7358],()=>t(58569)),_N_E=e.O()}]);